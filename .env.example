# =============================================================================
# Public Server Framework - Environment Variables
# =============================================================================
# Copy this file to .env and configure your values
# DO NOT commit .env file to version control

# =============================================================================
# Application
# =============================================================================
SPRING_PROFILES_ACTIVE=dev
SERVER_PORT=8080

# =============================================================================
# PostgreSQL Database
# =============================================================================
DB_URL=jdbc:postgresql://localhost:5432/server
DB_USERNAME=postgres
DB_PASSWORD=your_secure_password_here

# JPA Settings
SPRING_JPA_DDL_AUTO=update
SPRING_JPA_SHOW_SQL=true
SPRING_JPA_FORMAT_SQL=true

# =============================================================================
# Redis Cache
# =============================================================================
SPRING_DATA_REDIS_HOST=localhost
SPRING_DATA_REDIS_PORT=6379
SPRING_DATA_REDIS_PASSWORD=

# Cache TTL (milliseconds)
CACHE_TTL_DEFAULT=3600000

# =============================================================================
# JWT Authentication (REQUIRED - No default value)
# =============================================================================
# Generate a secure secret: openssl rand -base64 64
JWT_SECRET=your_super_secure_jwt_secret_key_here_at_least_64_characters_long
JWT_ACCESS_TOKEN_EXPIRATION=900000
JWT_REFRESH_TOKEN_EXPIRATION=604800000
JWT_ISSUER=server-platform

# =============================================================================
# gRPC Server
# =============================================================================
GRPC_SERVER_PORT=9090

# =============================================================================
# CORS Configuration
# =============================================================================
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8081
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=*
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE=3600

# =============================================================================
# Rate Limiting (requests per minute)
# =============================================================================
RATELIMIT_AUTH_REQUESTS_PER_MINUTE=10
RATELIMIT_GENERAL_REQUESTS_PER_MINUTE=60

# =============================================================================
# WebClient (External API Calls)
# =============================================================================
WEBCLIENT_CONNECT_TIMEOUT=5000
WEBCLIENT_READ_TIMEOUT=10000
WEBCLIENT_WRITE_TIMEOUT=10000
WEBCLIENT_RESPONSE_TIMEOUT=15000

# =============================================================================
# File Upload
# =============================================================================
FILE_UPLOAD_PATH=./uploads
FILE_UPLOAD_BASE_URL=http://localhost:8080/files

# =============================================================================
# MongoDB (Optional - Set to true to enable)
# =============================================================================
MONGODB_ENABLED=false
MONGODB_URI=mongodb://localhost:27017/server
MONGODB_DATABASE=server

# =============================================================================
# WebSocket (Optional - Set to true to enable)
# =============================================================================
WEBSOCKET_ENABLED=false

# =============================================================================
# Virtual Threads (Java 21 - Optional)
# =============================================================================
VIRTUAL_THREADS_ENABLED=false

# =============================================================================
# Hibernate Statistics (Development only)
# =============================================================================
HIBERNATE_STATISTICS=false
